///////////////////////////////////////////////////////////////////////////
//
//  PC_VIDEO.HPP
//
///////////////////////////////////////////////////////////////////////////
#ifndef PCVIDEO_HPP
#define PCVIDEO_HPP

//////////////////////////////////////////////////////////////////////////
// INCLUDES
//////////////////////////////////////////////////////////////////////////
#include "x_Types.hpp"
#include "d3d8.h"
#include "d3dx8.h"
#include "dxerr8.h"

//////////////////////////////////////////////////////////////////////////
// HELPERS
//////////////////////////////////////////////////////////////////////////
#define SAFE_RELEASE(p)      { if(p) { (p)->Release(); (p)=NULL; } }

#define	DXCHECK(hr)			{ if (hr<0) { VIDEO_Warning(hr, __FILE__, __LINE__); return ERR_FAILURE;} }
#define	DXWARN(hr)			{ if (hr<0) { VIDEO_Warning(hr, __FILE__, __LINE__);} }

//////////////////////////////////////////////////////////////////////////
// EXTERNS
//////////////////////////////////////////////////////////////////////////
extern LPDIRECT3D8             g_pD3D;		// Used to create the D3DDevice
extern LPDIRECT3DDEVICE8       g_pD3DDevice;	// Our rendering device

//////////////////////////////////////////////////////////////////////////
// PRIVATE FUNCTIONS
//////////////////////////////////////////////////////////////////////////
err		VIDEO_InitModule	( HWND hWnd, xbool bWindowed, xbool bUseZBuffer );
void	VIDEO_KillModule	( void );
void	VIDEO_Warning		(HRESULT hr, char*pFile, u32 line);

//////////////////////////////////////////////////////////////////////////
// END
//////////////////////////////////////////////////////////////////////////
#endif